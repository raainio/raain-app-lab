{"version":3,"file":"5452.924e63a6162ec05f.js","mappings":"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","sources":["./src/core/login/login.module.ts","./src/core/login/login.page.ts","./src/core/login/login.page.html"],"sourcesContent":["import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {IonicModule} from '@ionic/angular';\nimport {RouterModule} from '@angular/router';\n\nimport {LoginPage} from './login.page';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: LoginPage,\n            },\n        ]),\n    ],\n    declarations: [LoginPage],\n})\nexport class LoginPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {FidjService} from 'fidj-angular';\nimport {ProfileService} from '../shared';\nimport {Router} from '@angular/router';\nimport {environment} from '../../environments/environment';\nimport {NgForm} from '@angular/forms';\n\n@Component({\n    selector: 'app-login',\n    templateUrl: 'login.page.html',\n    styleUrls: ['login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n    public appVersion = environment.version;\n\n    public userLoginEmail: string;\n\n    public userLoginPassword: string;\n\n    constructor(\n        private router: Router,\n        private profile: ProfileService,\n        private fidjService: FidjService\n    ) {}\n\n    async ngOnInit() {\n        if (this.fidjService.isLoggedIn()) {\n            return this.router.navigateByUrl('/home');\n        } else {\n            console.warn('not logged in');\n        }\n\n        this.userLoginEmail = this.profile.getEmail();\n        await this.profile.logout(environment.fidjKey, environment.production);\n    }\n\n    async login(loginForm: NgForm) {\n        if (!this.userLoginEmail || !loginForm.form.valid || !this.userLoginPassword) {\n            return;\n        }\n\n        this.profile.setEmail(this.userLoginEmail);\n        try {\n            await this.fidjService.login(this.userLoginEmail, this.userLoginPassword);\n            await this.router.navigate(['/home']);\n        } catch (err) {\n            alert(JSON.stringify(err));\n        }\n    }\n\n    async loginInDemoMode() {\n        this.profile.setEmail('demo user');\n        this.profile.isDemoMode = true;\n        try {\n            await this.fidjService.loginInDemoMode();\n            await this.router.navigate(['/home']);\n        } catch (err) {\n            alert(JSON.stringify(err));\n        }\n    }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n      <ion-img src=\"assets/icon/favicon.ico\" style=\"height: 30px; padding-left: 20px\"></ion-img>\n    </ion-buttons>\n    <ion-title>\n      Login\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-card class=\"welcome-card\">\n    <ion-img src=\"/assets/login.png\"></ion-img>\n    <ion-card-header>\n      <ion-card-title>RadarToRain</ion-card-title>\n    </ion-card-header>\n    <ion-card-content>\n      <form #loginForm=\"ngForm\">\n        <ion-item>\n          <ion-input\n            [(ngModel)]=\"userLoginEmail\" name=\"userLoginEmail\" pattern=\".{1,}@[_a-z0-9A-Z]+(\\.[a-z0-9A-Z]+)+\"\n            placeholder=\"valid.email@required.com\" required\n            type=\"email\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-input (keyup.enter)=\"login(loginForm)\"\n                     [(ngModel)]=\"userLoginPassword\" name=\"userLoginPassword\"\n                     placeholder=\"password\" required\n                     type=\"password\"></ion-input>\n        </ion-item>\n\n        <div style=\"padding-top:20px\">\n\n          <ion-button (click)=\"login(loginForm)\"\n                      [disabled]=\"!userLoginEmail || !loginForm.form.valid || !userLoginPassword\"\n                      expand=\"block\"\n                      size=\"large\">Login\n          </ion-button>\n\n          <!-- <ion-button (click)=\"loginInDemoMode()\" expand=\"block\"\n                       size=\"large\">Login In Demo Mode\n           </ion-button> -->\n\n        </div>\n      </form>\n    </ion-card-content>\n  </ion-card>\n\n\n</ion-content>\n"],"names":["CommonModule","FormsModule","IonicModule","RouterModule","LoginPage","LoginPageModule","forChild","path","component","declarations","imports","environment","constructor","router","profile","fidjService","version","ngOnInit","isLoggedIn","navigateByUrl","console","warn","userLoginEmail","getEmail","logout","fidjKey","production","login","loginForm","form","valid","userLoginPassword","setEmail","navigate","err","alert","JSON","stringify","loginInDemoMode","isDemoMode","selectors","decls","vars","consts","template","i0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}