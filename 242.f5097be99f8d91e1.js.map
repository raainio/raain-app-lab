{"version":3,"file":"242.f5097be99f8d91e1.js","mappings":";;;;;;;;;;;;;;;;;;;AAC6C;AACF;AACA;AACU;AAEV;;;AAE3C,MAAMK,WAAW,GAAW,CACxB;EACIC,IAAI,EAAE,EAAE;EACRC,QAAQ,EAAE,CAAC;IAACD,IAAI,EAAE,EAAE;IAAEE,SAAS,EAAEJ,sDAAWA;EAAA,CAAC;CAChD,CACJ;AAWK,MAAOK,iBAAiB;;;uBAAjBA,iBAAiB;IAAA;EAAA;;;YAAjBA;IAAiB;EAAA;;;gBAPtBT,yDAAY,EACZC,uDAAW,EACXC,uDAAW,EACXC,kEAAqB,CAACE,WAAW,CAAC;IAAA;EAAA;;;sHAI7BI,iBAAiB;IAAAE,eAFXP,sDAAW;IAAAQ,UALtBZ,yDAAY,EACZC,uDAAW,EACXC,uDAAW;EAAA;AAAA,K;;;;;;;;;;;;;;;;;;;;;;AChBwC;;;;;;;;ICwC3CY,4DAAAA,mBAAoF;IAClFA,oDAAAA,GACF;IAAAA,0DAAAA,EAAW;;;;IADTA,uDAAAA,GACF;IADEA,gEAAAA,mBACF;;;;;IACAA,4DAAAA,mBAAsE;IAAAA,oDAAAA,wBAAiB;IAAAA,0DAAAA,EAAW;;;ADpC5G,MAAOV,WAAW;EAWpBW,YACYC,OAAuB,EACvBC,WAAwB;IADxB,YAAO,GAAPD,OAAO;IACP,gBAAW,GAAXC,WAAW;IAZhB,eAAU,GAAGJ,0EAAmB;IAChC,WAAM,GAAG,EAAE;IACX,YAAO,GAAG,EAAE;IACZ,eAAU,GAAG,IAAI;IACjB,WAAM,GAAG,IAAI;IACb,UAAK,GAAa,EAAE;EAQxB;EAEH,IAAIM,kBAAkB;IAClB,OAAO,IAAI,CAACH,OAAO,CAACI,gBAAgB;EACxC;EAEA,IAAIC,WAAW;IACX,OAAO,IAAI,CAACC,kBAAkB,IAAI,IAAI,CAACA,kBAAkB,CAACC,MAAM,GAAG,CAAC,GAC9D,IAAI,CAACD,kBAAkB,CAAC,CAAC,CAAC,GAC1B,IAAI;EACd;EAEAE,QAAQ;IACJ,IAAI,CAACC,OAAO,EAAE;EAClB;EAEMA,OAAO;IAAA;IAAA;MACT,IAAI;QACA,MAAM,KAAI,CAACT,OAAO,CAACU,cAAc,EAAE;OACtC,CAAC,OAAOC,CAAC,EAAE;QACRC,OAAO,CAACC,KAAK,CAAC,aAAa,EAAEF,CAAC,CAAC;;MAGnC,IAAI,CAAC,KAAI,CAACX,OAAO,CAACc,UAAU,EAAE,EAAE;QAC5B,OAAO,KAAI,CAACd,OAAO,CAACe,QAAQ,EAAE;;MAGlC,KAAI,CAACT,kBAAkB,SAAS,KAAI,CAACL,WAAW,CAACe,YAAY,EAAE;MAC/D,KAAI,CAACC,KAAK,SAAS,KAAI,CAAChB,WAAW,CAACiB,QAAQ,EAAE;MAC9C,KAAI,CAACC,KAAK,GAAG,KAAI,CAACnB,OAAO,CAACoB,QAAQ,EAAE;IAAC;EACzC;;;uBA5CShC,WAAW;IAAA;EAAA;;;YAAXA,WAAW;MAAAiC;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCVxB3B,4DAAAA,iBAAY;UAGNA,uDAAAA,sBAAmC;UAErCA,0DAAAA,EAAc;UACdA,4DAAAA,gBAAW;UACTA,oDAAAA,gBACF;UAAAA,0DAAAA,EAAY;UAIhBA,4DAAAA,qBAAiC;UAEhBA,wDAAAA;YAAA,OAAc4B,aAAS;UAAA,EAAC;UACrC5B,uDAAAA,4BAA+C;UACjDA,0DAAAA,EAAgB;UAEhBA,4DAAAA,cAA+B;UAIvBA,uDAAAA,mBAAuD;UACzDA,0DAAAA,EAAa;UACbA,4DAAAA,yBAAwC;UAAAA,oDAAAA,IAAW;UAAAA,0DAAAA,EAAiB;UACpEA,4DAAAA,4BAA2C;UAAAA,oDAAAA,oBAAY;UAAAA,0DAAAA,EAAoB;UAG7EA,4DAAAA,wBAAkB;UAGZA,uDAAAA,oBAAsE;UACtEA,4DAAAA,iBAAW;UACLA,oDAAAA,aAAK;UAAAA,0DAAAA,EAAK;UACdA,4DAAAA,SAAG;UAAAA,oDAAAA,IAAW;UAAAA,0DAAAA,EAAI;UAItBA,4DAAAA,gBAAU;UACRA,uDAAAA,oBAAwE;UACxEA,4DAAAA,iBAAW;UACLA,oDAAAA,aAAK;UAAAA,0DAAAA,EAAK;UACdA,4DAAAA,SAAG;UACDA,wDAAAA,4DAEW;UACXA,wDAAAA,4DAAkG;UACpGA,0DAAAA,EAAI;UAIRA,4DAAAA,gBAAU;UACRA,uDAAAA,oBAAsE;UACtEA,4DAAAA,iBAAW;UACLA,oDAAAA,oBAAY;UAAAA,0DAAAA,EAAK;UACrBA,4DAAAA,aAAwB;UAAAA,oDAAAA,IAAwB;UAAAA,0DAAAA,EAAI;UAO9DA,4DAAAA,oBAAmC;UAG7BA,uDAAAA,oBAAuE;UACvEA,oDAAAA,4BACF;UAAAA,0DAAAA,EAAiB;UAGnBA,4DAAAA,wBAAkB;UAGZA,uDAAAA,oBAAsE;UACtEA,4DAAAA,iBAAW;UACLA,oDAAAA,mBAAW;UAAAA,0DAAAA,EAAK;UACpBA,4DAAAA,SAAG;UAAAA,oDAAAA,IAAgB;UAAAA,0DAAAA,EAAI;UAI3BA,4DAAAA,gBAAU;UACRA,uDAAAA,oBAAwE;UACxEA,4DAAAA,iBAAW;UACLA,oDAAAA,mBAAW;UAAAA,0DAAAA,EAAK;UACpBA,4DAAAA,SAAG;UAAAA,oDAAAA,IAAgB;UAAAA,0DAAAA,EAAI;UAI3BA,4DAAAA,gBAAU;UACRA,uDAAAA,oBAAuE;UACvEA,4DAAAA,iBAAW;UACLA,oDAAAA,eAAO;UAAAA,0DAAAA,EAAK;UAChBA,4DAAAA,SAAG;UAAAA,oDAAAA,IAAY;UAAAA,0DAAAA,EAAI;;;UApEeA,uDAAAA,IAAW;UAAXA,+DAAAA,WAAW;UAU1CA,uDAAAA,IAAW;UAAXA,+DAAAA,WAAW;UASeA,uDAAAA,GAAQ;UAARA,wDAAAA,sBAAQ;UAGxBA,uDAAAA,GAAkC;UAAlCA,wDAAAA,8CAAkC;UASvBA,uDAAAA,GAAwB;UAAxBA,+DAAAA,wBAAwB;UAqB7CA,uDAAAA,IAAgB;UAAhBA,+DAAAA,gBAAgB;UAQhBA,uDAAAA,GAAgB;UAAhBA,+DAAAA,gBAAgB;UAQhBA,uDAAAA,GAAY;UAAZA,+DAAAA,YAAY","sources":["./src/core/profile/profile.module.ts","./src/core/profile/profile.page.ts","./src/core/profile/profile.page.html"],"sourcesContent":["import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {IonicModule} from '@ionic/angular';\nimport {RouterModule, Routes} from '@angular/router';\n\nimport {ProfilePage} from './profile.page';\n\nconst RouteConfig: Routes = [\n    {\n        path: '',\n        children: [{path: '', component: ProfilePage}],\n    },\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(RouteConfig),\n    ],\n    declarations: [ProfilePage],\n})\nexport class ProfilePageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {ProfileService} from '../shared';\nimport {EndpointInterface, FidjService} from 'fidj-angular';\nimport {environment} from '../../environments/environment';\n\n@Component({\n    selector: 'app-profile',\n    templateUrl: 'profile.page.html',\n    styleUrls: ['profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n    public appVersion = environment.version;\n    public errors = [];\n    public results = [];\n    public apiVersion = 'NA';\n    public apiUrl = 'NA';\n    public roles: string[] = [];\n    public email: string;\n\n    private endpointInterfaces: EndpointInterface[];\n\n    constructor(\n        private profile: ProfileService,\n        private fidjService: FidjService\n    ) {}\n\n    get defaultEndpointUrl() {\n        return this.profile.defaultUrlForAPI;\n    }\n\n    get endpointUrl() {\n        return this.endpointInterfaces && this.endpointInterfaces.length > 0\n            ? this.endpointInterfaces[0]\n            : null;\n    }\n\n    ngOnInit() {\n        this.refresh();\n    }\n\n    async refresh() {\n        try {\n            await this.profile.refreshProfile();\n        } catch (e) {\n            console.error('refresh pb:', e);\n        }\n\n        if (!this.profile.isLoggedIn()) {\n            return this.profile.gotoLout();\n        }\n\n        this.endpointInterfaces = await this.fidjService.getEndpoints();\n        this.roles = await this.fidjService.getRoles();\n        this.email = this.profile.getEmail();\n    }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n      <ion-img src=\"assets/icon/favicon.ico\" style=\"height: 30px; padding-left: 20px\"></ion-img>\n    </ion-buttons>\n    <ion-title>\n      Profile\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n\n  <ion-refresher (ionRefresh)=\"refresh()\" slot=\"fixed\">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <div class=\"profile-container\">\n    <ion-card class=\"profile-card\">\n      <ion-card-header>\n        <ion-avatar class=\"profile-avatar\">\n          <ion-icon name=\"person-circle\" size=\"large\"></ion-icon>\n        </ion-avatar>\n        <ion-card-title class=\"ion-text-center\">{{ email }}</ion-card-title>\n        <ion-card-subtitle class=\"ion-text-center\">User Account</ion-card-subtitle>\n      </ion-card-header>\n\n      <ion-card-content>\n        <ion-list lines=\"none\">\n          <ion-item>\n            <ion-icon name=\"mail-outline\" slot=\"start\" color=\"primary\"></ion-icon>\n            <ion-label>\n              <h2>Email</h2>\n              <p>{{ email }}</p>\n            </ion-label>\n          </ion-item>\n\n          <ion-item>\n            <ion-icon name=\"shield-outline\" slot=\"start\" color=\"primary\"></ion-icon>\n            <ion-label>\n              <h2>Roles</h2>\n              <p>\n                <ion-chip *ngFor=\"let role of roles\" outline color=\"primary\" class=\"ion-margin-end\">\n                  {{ role }}\n                </ion-chip>\n                <ion-chip *ngIf=\"!roles || roles.length === 0\" outline color=\"medium\">No roles assigned</ion-chip>\n              </p>\n            </ion-label>\n          </ion-item>\n\n          <ion-item>\n            <ion-icon name=\"link-outline\" slot=\"start\" color=\"primary\"></ion-icon>\n            <ion-label>\n              <h2>API Endpoint</h2>\n              <p class=\"endpoint-url\">{{ defaultEndpointUrl }}</p>\n            </ion-label>\n          </ion-item>\n        </ion-list>\n      </ion-card-content>\n    </ion-card>\n\n    <ion-card class=\"system-info-card\">\n      <ion-card-header>\n        <ion-card-title>\n          <ion-icon name=\"information-circle-outline\" color=\"primary\"></ion-icon>\n          System Information\n        </ion-card-title>\n      </ion-card-header>\n\n      <ion-card-content>\n        <ion-list lines=\"none\">\n          <ion-item>\n            <ion-icon name=\"code-outline\" slot=\"start\" color=\"primary\"></ion-icon>\n            <ion-label>\n              <h2>App Version</h2>\n              <p>{{ appVersion }}</p>\n            </ion-label>\n          </ion-item>\n\n          <ion-item>\n            <ion-icon name=\"server-outline\" slot=\"start\" color=\"primary\"></ion-icon>\n            <ion-label>\n              <h2>API Version</h2>\n              <p>{{ apiVersion }}</p>\n            </ion-label>\n          </ion-item>\n\n          <ion-item>\n            <ion-icon name=\"globe-outline\" slot=\"start\" color=\"primary\"></ion-icon>\n            <ion-label>\n              <h2>API URL</h2>\n              <p>{{ apiUrl }}</p>\n            </ion-label>\n          </ion-item>\n        </ion-list>\n      </ion-card-content>\n    </ion-card>\n  </div>\n\n</ion-content>\n"],"names":["CommonModule","FormsModule","IonicModule","RouterModule","ProfilePage","RouteConfig","path","children","component","ProfilePageModule","forChild","declarations","imports","environment","i0","constructor","profile","fidjService","version","defaultEndpointUrl","defaultUrlForAPI","endpointUrl","endpointInterfaces","length","ngOnInit","refresh","refreshProfile","e","console","error","isLoggedIn","gotoLout","getEndpoints","roles","getRoles","email","getEmail","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}