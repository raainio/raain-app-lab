{"version":3,"file":"9115.39fa829ff6a16f0d.js","mappings":"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","sources":["./src/core/rains/modals/new-instance.page.ts","./src/core/rains/modals/new-instance.page.html","./src/core/rains/rain-detail.page.ts","./src/core/rains/rain-detail.page.html","./src/core/rains/rains.module.ts","./src/core/rains/rains.page.ts","./src/core/rains/rains.page.html"],"sourcesContent":["import {Component, Input} from '@angular/core';\nimport {ModalController, NavParams} from '@ionic/angular';\n\n@Component({\n    selector: 'modal-page',\n    templateUrl: 'new-instance.page.html',\n})\nexport class NewInstancePage {\n    // \"value\" passed in componentProps\n    @Input() value: number;\n    RadarToRainUrl: any;\n    RadarToRainUser: any;\n    RadarToRainPwd: any;\n\n    constructor(\n        private modalController: ModalController,\n        private navParams: NavParams\n    ) {\n        // componentProps can also be accessed at construction time using NavParams}\n    }\n\n    dismiss() {\n        this.modalController.dismiss();\n    }\n\n    add(RadarToRainUrl, RadarToRainUser, RadarToRainPwd) {\n        this.modalController.dismiss();\n    }\n}\n","<ion-content padding>\n\n    <ion-card>\n        <ion-card-header>\n            <ion-card-title>Connect your RadarToRain instance</ion-card-title>\n        </ion-card-header>\n        <ion-card-content>\n\n            <form #heroForm=\"ngForm\">\n                <ion-item>\n                    <ion-input type=\"url\" placeholder=\"https://RadarToRain.you/RadarToRain\" required\n                               [(ngModel)]=\"RadarToRainUrl\" name=\"RadarToRainUrl\"></ion-input>\n                </ion-item>\n                <ion-item>\n                    <ion-input type=\"string\" placeholder=\"User\" required\n                               [(ngModel)]=\"RadarToRainUser\" name=\"RadarToRainUser\"></ion-input>\n                </ion-item>\n                <ion-item>\n                    <ion-input type=\"password\" placeholder=\"Password\" required\n                               [(ngModel)]=\"RadarToRainPwd\" name=\"RadarToRainPwd\"></ion-input>\n                </ion-item>\n                <div>\n                    <ion-button expand=\"block\"\n                                (click)=\"add(RadarToRainUrl, RadarToRainUser, RadarToRainPwd)\"\n                                [disabled]=\"!RadarToRainUrl || !heroForm.form.valid\">Login\n                    </ion-button>\n                    <ion-button expand=\"block\"\n                                (click)=\"dismiss()\">dismiss\n                    </ion-button>\n\n\n                </div>\n            </form>\n        </ion-card-content>\n    </ion-card>\n\n</ion-content>\n\n\n","import {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ViewChild,\n} from '@angular/core';\nimport {CompareManager, ProfileService, RadarService, RefreshManager, Storage} from '../shared';\nimport {ActivatedRoute, ParamMap} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {switchMap} from 'rxjs/operators';\nimport {RadarNode, RainNode} from 'raain-model';\nimport {IonModal} from '@ionic/angular';\n\nlet TEST_DETECTION = 0;\n\n@Component({\n    selector: 'app-rain-detail',\n    templateUrl: 'rain-detail.page.html',\n    styleUrls: ['rain-detail.page.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RainDetailPage implements AfterViewInit {\n    @ViewChild(IonModal) modal: IonModal;\n    public rainNode: RainNode;\n    public compareManager: CompareManager;\n    public refreshManager: RefreshManager;\n    public toggleAdmin: boolean;\n    public isAdmin: boolean;\n    public toggleDetails: boolean;\n    public isSimpleZone: boolean;\n    protected rain$: Observable<RainNode>;\n\n    constructor(\n        private readonly activatedRoute: ActivatedRoute,\n        private readonly cdr: ChangeDetectorRef,\n        public profileService: ProfileService,\n        public radarService: RadarService,\n        protected storage: Storage\n    ) {}\n\n    ngAfterViewInit(): void {\n        this.profileService.refreshProfile().then((ignored) => {});\n        this.subscribeToRainUpdates();\n    }\n\n    onChangeDetectionTest(_rainNode: RainNode) {\n        console.log(TEST_DETECTION++, 'onChangeDetectionTest_');\n        return '';\n    }\n\n    async toggleAdminChanged(_$event: any) {\n        this.storage.set('raain-toggleAdmin', this.toggleAdmin);\n        await this.refresh();\n    }\n\n    async refresh(event?: any) {\n        try {\n            await this.profileService.refreshProfile();\n            await this.initRain(this.rainNode);\n        } catch (e) {\n            /* empty */\n        }\n\n        if (event) {\n            event.target.complete();\n        }\n\n        if (!this.profileService.isLoggedIn()) {\n            return this.profileService.gotoLout();\n        }\n    }\n\n    private subscribeToRainUpdates() {\n        // console.log('subscribeToRainUpdates', this.rain$);\n        if (this.rain$) {\n            return;\n        }\n\n        this.rain$ = this.activatedRoute.paramMap.pipe(\n            switchMap((params: ParamMap) => this.profileService.getRain(params.get('id')))\n        );\n\n        this.rain$.subscribe(this.initRain.bind(this));\n    }\n\n    private async initRain(rainNode: RainNode) {\n        this.toggleDetails = false;\n        this.toggleAdmin = this.storage.get('raain-toggleAdmin');\n        this.isAdmin = this.profileService.isAdmin();\n\n        if (!rainNode) {\n            this.cdr.markForCheck();\n            return;\n        }\n\n        this.rainNode = rainNode;\n        this.compareManager = new CompareManager(this.profileService);\n        this.refreshManager = new RefreshManager(\n            this.radarService,\n            this.profileService,\n            this.compareManager\n        );\n        this.compareManager.rainNode = this.rainNode;\n        this.refreshManager.rainNode = this.rainNode;\n\n        // For Simple Radar-Rain Zone :\n        const radarLinks = rainNode.getLinks(RadarNode.TYPE);\n        this.isSimpleZone = radarLinks.length === 1;\n\n        this.toggleDetails = true;\n        this.cdr.markForCheck();\n    }\n}\n","<ion-header class=\"ion-no-border\">\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-menu-button></ion-menu-button>\n            <ion-img class=\"app-logo\" src=\"assets/icon/favicon.ico\"></ion-img>\n        </ion-buttons>\n        <ion-title>\n            <span class=\"ion-color-raain\">Radar To Rain</span> {{ rainNode?.name }}\n        </ion-title>\n\n        <ion-buttons *ngIf=\"isSimpleZone && isAdmin\" slot=\"end\">\n            <ion-label class=\"ion-padding-end\" color=\"warning\">Admin Data</ion-label>\n            <ion-toggle (ionChange)=\"toggleAdminChanged($event)\"\n                        [(ngModel)]=\"toggleAdmin\"\n                        [checked]=\"toggleAdmin\"\n                        color=\"warning\">\n            </ion-toggle>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n    <div class=\"ion-padding\">\n        <raain-details *ngIf=\"toggleDetails\"\n                       [compareManager]=\"compareManager\"\n                       [profileService]=\"profileService\"\n                       [radarService]=\"radarService\"\n                       [rainNode]=\"rainNode\"\n                       [refreshManager]=\"refreshManager\"\n                       [toggleAdmin]=\"toggleAdmin\">\n        </raain-details>\n    </div>\n\n    <!-- Hidden label for change detection (uncomment to debug)\n    <div class=\"hidden-label\">{{ onChangeDetectionTest(rainNode) }}</div>\n    -->\n\n    <ion-modal class=\"support-modal\" trigger=\"open-modal\">\n        <ng-template>\n            <ion-header class=\"ion-no-border\">\n                <ion-toolbar>\n                    <ion-title>Need Help?</ion-title>\n                    <ion-buttons slot=\"end\">\n                        <ion-button (click)=\"modal.dismiss()\">\n                            <ion-icon name=\"close-outline\" slot=\"icon-only\"></ion-icon>\n                        </ion-button>\n                    </ion-buttons>\n                </ion-toolbar>\n            </ion-header>\n            <ion-content class=\"ion-padding\">\n                <div class=\"support-content\">\n                    <h2>Have questions?</h2>\n                    <p>We're here to help! Feel free to contact our support team at <a\n                            class=\"ion-color-raain\" href=\"mailto:support@radartorain.com\">support@radartorain.com</a>\n                    </p>\n\n                    <h3>For faster assistance, please include:</h3>\n                    <ol>\n                        <li>Full screenshot or screen recording if possible</li>\n                        <li>Detailed description of your question or issue</li>\n                    </ol>\n\n                    <p class=\"text-muted\">Our team will respond as quickly as possible to help you.</p>\n\n                    <ion-button (click)=\"modal.dismiss()\" class=\"ion-margin-top\" expand=\"block\">\n                        Got it\n                    </ion-button>\n                </div>\n            </ion-content>\n        </ng-template>\n    </ion-modal>\n\n    <ion-fab horizontal=\"end\" slot=\"fixed\" vertical=\"bottom\">\n        <ion-fab-button color=\"raain\" id=\"open-modal\">\n            <ion-icon name=\"help-outline\"></ion-icon>\n        </ion-fab-button>\n    </ion-fab>\n</ion-content>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {IonicModule} from '@ionic/angular';\nimport {RouterModule, Routes} from '@angular/router';\n\nimport {RainsPage} from './rains.page';\nimport {RainDetailPage} from './rain-detail.page';\nimport {Storage} from '../shared';\nimport {PipesModule} from '../shared/pipes.module';\nimport {SharedModule} from '../shared';\nimport {NewInstancePage} from './modals/new-instance.page';\n\nconst RouteConfig: Routes = [\n    {\n        path: '',\n        children: [\n            {path: '', component: RainsPage},\n            {path: ':id', component: RainDetailPage},\n            {\n                path: 'new-instance',\n                component: NewInstancePage,\n            },\n        ],\n    },\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(RouteConfig),\n        PipesModule,\n        SharedModule,\n    ],\n    declarations: [RainsPage, RainDetailPage, NewInstancePage],\n    providers: [Storage],\n})\nexport class RainsPageModule {}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {FidjStorageNode, ProfileService} from '../shared';\nimport {RainNode} from 'raain-model';\nimport {Router} from '@angular/router';\nimport {IonModal} from '@ionic/angular';\nimport {environment} from '../../environments/environment';\n\n@Component({\n    selector: 'app-rains',\n    templateUrl: 'rains.page.html',\n    styleUrls: ['rains.page.scss'],\n})\nexport class RainsPage implements OnInit {\n    @ViewChild(IonModal) modal: IonModal;\n\n    public rainsInfoAlreadyViewed: any = {};\n    public sessionData: FidjStorageNode;\n    public rains: RainNode[] = [];\n    public appVersion = environment.version;\n\n    constructor(\n        private router: Router,\n        private profile: ProfileService\n    ) {}\n\n    ngOnInit() {\n        this.refresh();\n    }\n\n    async refresh(event?: any) {\n        try {\n            this.sessionData = await this.profile.refreshProfile();\n            if (this.sessionData.infos.rainsInfoAlreadyViewed) {\n                this.rainsInfoAlreadyViewed = this.sessionData.infos.rainsInfoAlreadyViewed;\n            }\n\n            this.rains = await this.profile.getRains();\n        } catch (e) {\n            console.error('refresh pb:', e);\n        }\n        if (event) {\n            event.target.complete();\n        }\n\n        if (!this.profile.isLoggedIn()) {\n            return this.profile.gotoLout();\n        }\n    }\n\n    clickOnRain(rain: RainNode) {\n        return this.router.navigate(['/rains', rain.id]);\n    }\n\n    async closeInfo(windowName: string) {\n        this.rainsInfoAlreadyViewed[windowName] = true;\n        if (!this.sessionData || !this.sessionData.infos) {\n            return;\n        }\n\n        this.sessionData.infos.rainsInfoAlreadyViewed = this.rainsInfoAlreadyViewed;\n        await this.profile.storeAll();\n    }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n      <ion-img src=\"assets/icon/favicon.ico\" style=\"height: 30px; padding-left: 20px\"></ion-img>\n    </ion-buttons>\n    <ion-title>\n      Rain zones\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-refresher (ionRefresh)=\"refresh($event)\" slot=\"fixed\">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <ion-card *ngIf=\"!rainsInfoAlreadyViewed.hasOwnProperty('welcome-card')\" class=\"welcome-card\">\n    <ion-card-header>\n      <ion-card-title>Rain Zones</ion-card-title>\n      <ion-card-subtitle>\n        Based on radars, Rain zones are supporting rain computing.\n      </ion-card-subtitle>\n    </ion-card-header>\n    <ion-card-content>\n      <p>Manage here rain computing status.</p>\n    </ion-card-content>\n    <ion-button (click)=\"closeInfo('welcome-card')\" fill=\"outline\">Got it</ion-button>\n  </ion-card>\n\n  <div *ngIf=\"rains.length\">\n    <ion-list>\n      <ion-item-sliding *ngFor=\"let item of rains\">\n        <ion-item>\n          <ion-icon *ngIf=\"(item | hasGoodQuality)\" color=\"success\" name=\"radio-button-off\"\n                    slot=\"start\"></ion-icon>\n          <ion-icon *ngIf=\"!(item | hasGoodQuality)\" color=\"warning\" name=\"radio-button-off\"\n                    slot=\"start\"></ion-icon>\n\n          <div style=\"min-width: 200px\">{{ item.name }}</div>\n\n          <ion-button (click)=\"clickOnRain(item)\" expand=\"block\">details</ion-button>\n\n          <ion-progress-bar\n            (click)=\"clickOnRain(item)\"\n            buffer=\"{{item | progressBuffer}}\" color=\"primary\"\n            value=\"{{item | progressValue}}\"></ion-progress-bar>\n          <ion-icon (click)=\"clickOnRain(item)\" color=\"primary\" name=\"cloud-done\" slot=\"end\"></ion-icon>\n          <ion-icon (click)=\"clickOnRain(item)\" color=\"primary\" name=\"arrow-right\" slot=\"end\"></ion-icon>\n        </ion-item>\n\n      </ion-item-sliding>\n    </ion-list>\n  </div>\n\n</ion-content>\n"],"names":["NewInstancePage","constructor","modalController","navParams","dismiss","add","RadarToRainUrl","RadarToRainUser","RadarToRainPwd","selectors","inputs","value","decls","vars","consts","template","i0","ctx","CompareManager","RefreshManager","switchMap","RadarNode","IonModal","TEST_DETECTION","RainDetailPage","activatedRoute","cdr","profileService","radarService","storage","ngAfterViewInit","refreshProfile","then","ignored","subscribeToRainUpdates","onChangeDetectionTest","_rainNode","console","log","toggleAdminChanged","_$event","set","toggleAdmin","refresh","event","initRain","rainNode","e","target","complete","isLoggedIn","gotoLout","rain$","paramMap","pipe","params","getRain","get","subscribe","bind","toggleDetails","isAdmin","markForCheck","compareManager","refreshManager","radarLinks","getLinks","TYPE","isSimpleZone","length","viewQuery","CommonModule","FormsModule","IonicModule","RouterModule","RainsPage","Storage","PipesModule","SharedModule","RouteConfig","path","children","component","RainsPageModule","imports","forChild","declarations","environment","router","profile","version","ngOnInit","sessionData","infos","rainsInfoAlreadyViewed","rains","getRains","error","clickOnRain","rain","navigate","id","closeInfo","windowName","storeAll"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}