{"version":3,"file":"6498.7b75dcc2122f8e32.js","mappings":"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","sources":["./src/core/radars/radars.module.ts","./src/core/radars/radars.page.ts","./src/core/radars/radars.page.html"],"sourcesContent":["import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {IonicModule} from '@ionic/angular';\nimport {RouterModule} from '@angular/router';\n\nimport {RadarsPage} from './radars.page';\nimport {SharedModule} from '../shared';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        SharedModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: RadarsPage,\n            },\n        ]),\n    ],\n    declarations: [RadarsPage],\n})\nexport class RadarsPageModule {}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {FidjStorageNode, ProfileService} from '../shared';\nimport {Router} from '@angular/router';\nimport {RadarNode} from 'raain-model';\nimport {IonModal} from '@ionic/angular';\nimport {environment} from '../../environments/environment';\n\n@Component({\n    selector: 'app-radars',\n    templateUrl: 'radars.page.html',\n    styleUrls: ['radars.page.scss'],\n})\nexport class RadarsPage implements OnInit {\n    @ViewChild(IonModal) modal: IonModal;\n\n    public radarsInfoAlreadyViewed: any = {};\n    public sessionData: FidjStorageNode;\n    public radars: RadarNode[] = [];\n\n    public appVersion = environment.version;\n\n    constructor(\n        private profile: ProfileService,\n        private router: Router\n    ) {}\n\n    async ngOnInit() {\n        await this.refresh();\n    }\n\n    async refresh(event?: any) {\n        try {\n            this.sessionData = await this.profile.refreshProfile();\n            if (this.sessionData.infos.radarsInfoAlreadyViewed) {\n                this.radarsInfoAlreadyViewed = this.sessionData.infos.radarsInfoAlreadyViewed;\n            }\n            this.radars = await this.profile.getRadars();\n        } catch (e) {\n            console.error('refresh  pb:', e);\n        }\n\n        if (event) {\n            event.target.complete();\n        }\n\n        if (!this.profile.isLoggedIn()) {\n            return this.profile.gotoLout();\n        }\n    }\n\n    async closeInfo(windowName: string) {\n        this.radarsInfoAlreadyViewed[windowName] = true;\n        if (!this.sessionData || !this.sessionData.infos) {\n            return;\n        }\n\n        this.sessionData.infos.radarsInfoAlreadyViewed = this.radarsInfoAlreadyViewed;\n        await this.profile.storeAll();\n    }\n\n    async saveRadar(radarNode: RadarNode) {\n        await this.profile.putRadar(radarNode);\n        await this.refresh();\n        await this.modal.dismiss();\n    }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n      <ion-img src=\"assets/icon/favicon.ico\" style=\"height: 30px; padding-left: 20px\"></ion-img>\n    </ion-buttons>\n    <ion-title>\n      Radars\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-refresher (ionRefresh)=\"refresh($event)\" slot=\"fixed\">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n\n  <ion-card *ngIf=\"!radarsInfoAlreadyViewed.hasOwnProperty('welcome-card')\" class=\"welcome-card\">\n    <ion-card-header>\n      <ion-card-title>Your radars</ion-card-title>\n      <ion-card-subtitle>\n        Radars information\n      </ion-card-subtitle>\n    </ion-card-header>\n    <ion-card-content>\n      <p>Manage here your radar status.</p>\n    </ion-card-content>\n    <ion-button (click)=\"closeInfo('welcome-card')\" fill=\"outline\">Got it</ion-button>\n  </ion-card>\n\n  <raain-globe [currentHeight]=\"500\"></raain-globe>\n\n  <ion-list *ngIf=\"radars.length\">\n    <ion-item-sliding *ngFor=\"let item of (radars)\">\n      <ion-item>\n        <ion-icon color=\"primary\" name=\"wifi\" slot=\"start\"></ion-icon>\n\n        <ion-button expand=\"block\" fill=\"clear\"\n                    id=\"open-modal-radar#{{item.id}}\">{{ item.name }} {{ item.description }}\n        </ion-button>\n      </ion-item>\n\n      <ion-modal (willDismiss)=\"saveRadar(item)\" trigger=\"open-modal-radar#{{item.id}}\">\n        <ng-template>\n          <ion-header>\n            <ion-toolbar>\n              <ion-buttons slot=\"end\">\n                <ion-button (click)=\"saveRadar(item)\" [strong]=\"true\">Save</ion-button>\n              </ion-buttons>\n            </ion-toolbar>\n          </ion-header>\n          <ion-content class=\"ion-padding\">\n            <ion-item>\n              <ion-input [(ngModel)]=\"item.name\" type=\"text\"></ion-input>\n            </ion-item>\n          </ion-content>\n        </ng-template>\n      </ion-modal>\n\n    </ion-item-sliding>\n\n  </ion-list>\n\n\n</ion-content>\n"],"names":["CommonModule","FormsModule","IonicModule","RouterModule","RadarsPage","SharedModule","RadarsPageModule","forChild","path","component","declarations","imports","IonModal","environment","i0","constructor","profile","router","version","ngOnInit","refresh","event","sessionData","refreshProfile","infos","radarsInfoAlreadyViewed","radars","getRadars","e","console","error","target","complete","isLoggedIn","gotoLout","closeInfo","windowName","storeAll","saveRadar","radarNode","putRadar","modal","dismiss","selectors","viewQuery","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}